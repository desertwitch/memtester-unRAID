Menu="Buttons:196"
Link="nav-user"
---
<style type="text/css">
#memtest_footer {
    float: right;
    margin-right: 24px;
    font-size: 1.1rem;
    cursor: pointer;
    color: red;
    display: none;
}
</style>

<script type="text/javascript">
function GetMemFooter() {
    $.get('/plugins/dwmemtester/include/dwmemtester_status.php', {"getfs": "no"}, function(data) {
        if (data) {
            var splitData = data.split(",");
            if(splitData[0]) {
                if(splitData[0] === "RUNNING:YES") {
                    $('#memtest_footer').show();
                } else if (splitData[0] === "RUNNING:NO") {
                    $('#memtest_footer').hide();
                }
            }
            if(splitData[1]) {
                if(splitData[1] === "YES") {
                    $('.memramwarning').show();
                } else if (splitData[1] === "NO") {
                    $('.memramwarning').hide();
                }
            }
	    }
    });
    clearTimeout(timers.GetMemFooter);
    timers.GetMemFooter = setTimeout(GetMemFooter, 3000);
    $('#memtest_footer').click(function() {
        location = '/Settings/dwmemtesterOps';
    });
}
$(function()
{
    var mem_footer = $("<span id='memtest_footer'><i class='fa fa-microchip'></i><strong> Memory Testing in Progress<span class='memramwarning' style='display:none'> / <i class='fa fa-exclamation-triangle'></i> RAM Disk Utilization > 90%</span></strong></span>").insertAfter("div#footer > span#copyright");
    GetMemFooter();
});
</script>
